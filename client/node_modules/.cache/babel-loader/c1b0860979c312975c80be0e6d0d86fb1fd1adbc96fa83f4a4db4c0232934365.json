{"ast":null,"code":"import _objectSpread from\"/Users/jordanzane/Documents/Project Lead Scheduler/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{toast}from'react-hot-toast';import{PlusIcon,MagnifyingGlassIcon,FunnelIcon,TagIcon,UserGroupIcon,ChartBarIcon,PencilIcon,TrashIcon,CheckIcon,ChevronDownIcon,ChevronUpIcon,Cog6ToothIcon,ArrowTopRightOnSquareIcon}from'@heroicons/react/24/outline';import axios from'axios';// Import modal components\nimport CreateLeadModal from'./CreateLeadModal';import EditLeadModal from'./EditLeadModal';import GroupModal from'./GroupModal';import ColumnManagerModal from'./ColumnManagerModal';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const LeadsEnhanced=()=>{var _groupsData$groups,_groupsData$groups2,_leadsData$leads3,_leadsData$leads4;const[selectedLeads,setSelectedLeads]=useState([]);const[filters,setFilters]=useState({status:'',priority:'',industry:'',group:'',search:'',tags:[]});const[sortBy,setSortBy]=useState('createdAt');const[sortOrder,setSortOrder]=useState('DESC');const[currentPage,setCurrentPage]=useState(1);const[showFilters,setShowFilters]=useState(false);const[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[editingLead,setEditingLead]=useState(null);const[showGroupModal,setShowGroupModal]=useState(false);const[groupName,setGroupName]=useState('');const[showColumnManager,setShowColumnManager]=useState(false);const[customColumns,setCustomColumns]=useState([{id:'roomCount',name:'Room Count',prompt:'Extract the number of hotel rooms mentioned',visible:true},{id:'squareFootage',name:'Square Footage',prompt:'Find the total square footage or area mentioned',visible:true},{id:'budget',name:'Budget',prompt:'Extract the project budget or cost mentioned',visible:true},{id:'timeline',name:'Timeline',prompt:'Find the project timeline or completion date',visible:true}]);const queryClient=useQueryClient();// Fetch leads with filters\nconst{data:leadsData,isLoading,error}=useQuery(['leads',filters,sortBy,sortOrder,currentPage],async()=>{const params=new URLSearchParams(_objectSpread({page:currentPage,limit:50,sortBy,sortOrder},filters));const response=await axios.get(\"/api/leads?\".concat(params));return response.data;},{keepPreviousData:true});// Fetch lead statistics\nconst{data:statsData}=useQuery(['leadStats'],async()=>{const response=await axios.get('/api/leads/stats/overview');return response.data;});// Fetch available groups\nconst{data:groupsData}=useQuery(['leadGroups'],async()=>{const response=await axios.get('/api/leads/groups');return response.data;});// Load custom columns from localStorage\nuseEffect(()=>{const saved=localStorage.getItem('customColumns');if(saved){setCustomColumns(JSON.parse(saved));}},[]);// Save custom columns to localStorage\nuseEffect(()=>{localStorage.setItem('customColumns',JSON.stringify(customColumns));},[customColumns]);// Mutations\nconst createLeadMutation=useMutation(async leadData=>{const response=await axios.post('/api/leads',leadData);return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['leads']);queryClient.invalidateQueries(['leadStats']);toast.success('Lead created successfully');setShowCreateModal(false);},onError:error=>{var _error$response,_error$response$data;toast.error(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'Failed to create lead');}});const updateLeadMutation=useMutation(async _ref=>{let{id,data}=_ref;const response=await axios.put(\"/api/leads/\".concat(id),data);return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['leads']);queryClient.invalidateQueries(['leadStats']);toast.success('Lead updated successfully');setShowEditModal(false);setEditingLead(null);},onError:error=>{var _error$response2,_error$response2$data;toast.error(((_error$response2=error.response)===null||_error$response2===void 0?void 0:(_error$response2$data=_error$response2.data)===null||_error$response2$data===void 0?void 0:_error$response2$data.error)||'Failed to update lead');}});const deleteLeadMutation=useMutation(async id=>{await axios.delete(\"/api/leads/\".concat(id));},{onSuccess:()=>{queryClient.invalidateQueries(['leads']);queryClient.invalidateQueries(['leadStats']);toast.success('Lead deleted successfully');setSelectedLeads([]);},onError:error=>{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Failed to delete lead');}});const bulkUpdateMutation=useMutation(async _ref2=>{let{leadIds,updates}=_ref2;const response=await axios.post('/api/leads/bulk-update',{leadIds,updates});return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['leads']);queryClient.invalidateQueries(['leadStats']);toast.success('Leads updated successfully');setSelectedLeads([]);},onError:error=>{var _error$response4,_error$response4$data;toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Failed to update leads');}});// Handle filter changes\nconst handleFilterChange=(key,value)=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{[key]:value}));setCurrentPage(1);};// Handle search\nconst handleSearch=value=>{setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{search:value}));setCurrentPage(1);};// Handle lead selection\nconst handleLeadSelection=leadId=>{setSelectedLeads(prev=>prev.includes(leadId)?prev.filter(id=>id!==leadId):[...prev,leadId]);};// Handle bulk selection\nconst handleSelectAll=()=>{var _leadsData$leads;if(selectedLeads.length===(leadsData===null||leadsData===void 0?void 0:(_leadsData$leads=leadsData.leads)===null||_leadsData$leads===void 0?void 0:_leadsData$leads.length)){setSelectedLeads([]);}else{var _leadsData$leads2;setSelectedLeads((leadsData===null||leadsData===void 0?void 0:(_leadsData$leads2=leadsData.leads)===null||_leadsData$leads2===void 0?void 0:_leadsData$leads2.map(lead=>lead.id))||[]);}};// Handle bulk status update\nconst handleBulkStatusUpdate=status=>{if(selectedLeads.length===0)return;bulkUpdateMutation.mutate({leadIds:selectedLeads,updates:{status}});};// Handle bulk priority update\nconst handleBulkPriorityUpdate=priority=>{if(selectedLeads.length===0)return;bulkUpdateMutation.mutate({leadIds:selectedLeads,updates:{priority}});};// Handle bulk group update\nconst handleBulkGroupUpdate=()=>{if(selectedLeads.length===0||!groupName.trim())return;bulkUpdateMutation.mutate({leadIds:selectedLeads,updates:{group:groupName.trim()}});setGroupName('');setShowGroupModal(false);};// Handle lead editing\nconst handleEditLead=lead=>{setEditingLead(lead);setShowEditModal(true);};// Handle lead deletion\nconst handleDeleteLead=leadId=>{if(window.confirm('Are you sure you want to delete this lead?')){deleteLeadMutation.mutate(leadId);}};// Handle opening source URL\nconst handleOpenSource=url=>{if(url){window.open(url,'_blank');}};// Handle custom column management\nconst addCustomColumn=()=>{const newColumn={id:\"custom_\".concat(Date.now()),name:'',prompt:'',visible:true};setCustomColumns([...customColumns,newColumn]);};const updateCustomColumn=(id,field,value)=>{setCustomColumns(prev=>prev.map(col=>col.id===id?_objectSpread(_objectSpread({},col),{},{[field]:value}):col));};const removeCustomColumn=id=>{setCustomColumns(prev=>prev.filter(col=>col.id!==id));};const toggleColumnVisibility=id=>{setCustomColumns(prev=>prev.map(col=>col.id===id?_objectSpread(_objectSpread({},col),{},{visible:!col.visible}):col));};// Get status color\nconst getStatusColor=status=>{const colors={new:'bg-blue-100 text-blue-800',contacted:'bg-yellow-100 text-yellow-800',qualified:'bg-green-100 text-green-800',proposal:'bg-purple-100 text-purple-800',won:'bg-emerald-100 text-emerald-800',lost:'bg-red-100 text-red-800',archived:'bg-gray-100 text-gray-800'};return colors[status]||colors.new;};// Get priority color\nconst getPriorityColor=priority=>{const colors={low:'bg-gray-100 text-gray-800',medium:'bg-yellow-100 text-yellow-800',high:'bg-orange-100 text-orange-800',urgent:'bg-red-100 text-red-800'};return colors[priority]||colors.medium;};// Get custom field value\nconst getCustomFieldValue=(lead,columnId)=>{if(!lead.custom_fields)return'N/A';return lead.custom_fields[columnId]||'N/A';};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800\",children:[\"Error loading leads: \",error.message]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Leads\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage and organize your leads\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowColumnManager(true),className:\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(Cog6ToothIcon,{className:\"h-4 w-4 mr-2\"}),\"Columns\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"New Lead\"]})]})]}),statsData&&/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(UserGroupIcon,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Total Leads\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:statsData.stats.totalLeads})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CheckIcon,{className:\"h-6 w-6 text-green-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:statsData.stats.leadsByStatus.qualified||0})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(TagIcon,{className:\"h-6 w-6 text-blue-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"New\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:statsData.stats.leadsByStatus.new||0})]})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white overflow-hidden shadow rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"p-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(ChartBarIcon,{className:\"h-6 w-6 text-purple-400\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-5 w-0 flex-1\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{className:\"text-sm font-medium text-gray-500 truncate\",children:\"Active Groups\"}),/*#__PURE__*/_jsx(\"dd\",{className:\"text-lg font-medium text-gray-900\",children:(groupsData===null||groupsData===void 0?void 0:(_groupsData$groups=groupsData.groups)===null||_groupsData$groups===void 0?void 0:_groupsData$groups.length)||0})]})})]})})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex-1 max-w-lg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\",children:/*#__PURE__*/_jsx(MagnifyingGlassIcon,{className:\"h-5 w-5 text-gray-400\"})}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search leads...\",value:filters.search,onChange:e=>handleSearch(e.target.value),className:\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowFilters(!showFilters),className:\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(FunnelIcon,{className:\"h-4 w-4 mr-2\"}),\"Filters\",showFilters?/*#__PURE__*/_jsx(ChevronUpIcon,{className:\"h-4 w-4 ml-2\"}):/*#__PURE__*/_jsx(ChevronDownIcon,{className:\"h-4 w-4 ml-2\"})]})]}),showFilters&&/*#__PURE__*/_jsxs(\"div\",{className:\"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:filters.status,onChange:e=>handleFilterChange('status',e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Statuses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacted\",children:\"Contacted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"proposal\",children:\"Proposal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"won\",children:\"Won\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lost\",children:\"Lost\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.priority,onChange:e=>handleFilterChange('priority',e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Priorities\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"Urgent\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.industry,onChange:e=>handleFilterChange('industry',e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Industries\"}),/*#__PURE__*/_jsx(\"option\",{value:\"hotel\",children:\"Hotel\"}),/*#__PURE__*/_jsx(\"option\",{value:\"construction\",children:\"Construction\"}),/*#__PURE__*/_jsx(\"option\",{value:\"software\",children:\"Software\"}),/*#__PURE__*/_jsx(\"option\",{value:\"healthcare\",children:\"Healthcare\"}),/*#__PURE__*/_jsx(\"option\",{value:\"education\",children:\"Education\"})]}),/*#__PURE__*/_jsxs(\"select\",{value:filters.group,onChange:e=>handleFilterChange('group',e.target.value),className:\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Groups\"}),groupsData===null||groupsData===void 0?void 0:(_groupsData$groups2=groupsData.groups)===null||_groupsData$groups2===void 0?void 0:_groupsData$groups2.map(group=>/*#__PURE__*/_jsxs(\"option\",{value:group.group,children:[group.group,\" (\",group.count,\")\"]},group.group))]})]})]})}),selectedLeads.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-800\",children:[selectedLeads.length,\" lead(s) selected\"]}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleBulkStatusUpdate(e.target.value),className:\"block px-3 py-1 border border-blue-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Update Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"new\",children:\"New\"}),/*#__PURE__*/_jsx(\"option\",{value:\"contacted\",children:\"Contacted\"}),/*#__PURE__*/_jsx(\"option\",{value:\"qualified\",children:\"Qualified\"}),/*#__PURE__*/_jsx(\"option\",{value:\"proposal\",children:\"Proposal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"won\",children:\"Won\"}),/*#__PURE__*/_jsx(\"option\",{value:\"lost\",children:\"Lost\"}),/*#__PURE__*/_jsx(\"option\",{value:\"archived\",children:\"Archived\"})]}),/*#__PURE__*/_jsxs(\"select\",{onChange:e=>handleBulkPriorityUpdate(e.target.value),className:\"block px-3 py-1 border border-blue-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Update Priority\"}),/*#__PURE__*/_jsx(\"option\",{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(\"option\",{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(\"option\",{value:\"high\",children:\"High\"}),/*#__PURE__*/_jsx(\"option\",{value:\"urgent\",children:\"Urgent\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowGroupModal(true),className:\"inline-flex items-center px-3 py-1 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(TagIcon,{className:\"h-4 w-4 mr-1\"}),\"Group\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{if(window.confirm(\"Are you sure you want to delete \".concat(selectedLeads.length,\" lead(s)?\"))){selectedLeads.forEach(id=>deleteLeadMutation.mutate(id));}},className:\"inline-flex items-center px-3 py-1 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-1\"}),\"Delete All\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedLeads([]),className:\"text-blue-600 hover:text-blue-800 text-sm font-medium\",children:\"Clear Selection\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-md\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"px-4 py-5 sm:px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900\",children:\"Lead List\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"select\",{value:sortBy,onChange:e=>setSortBy(e.target.value),className:\"block px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"createdAt\",children:\"Date Created\"}),/*#__PURE__*/_jsx(\"option\",{value:\"title\",children:\"Title\"}),/*#__PURE__*/_jsx(\"option\",{value:\"company\",children:\"Company\"}),/*#__PURE__*/_jsx(\"option\",{value:\"status\",children:\"Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"priority\",children:\"Priority\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSortOrder(sortOrder==='ASC'?'DESC':'ASC'),className:\"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:sortOrder==='ASC'?'↑':'↓'})]})]})}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Loading leads...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"overflow-x-auto\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"min-w-full divide-y divide-gray-200\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"bg-gray-50\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedLeads.length===(leadsData===null||leadsData===void 0?void 0:(_leadsData$leads3=leadsData.leads)===null||_leadsData$leads3===void 0?void 0:_leadsData$leads3.length),onChange:handleSelectAll,className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Lead\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Company\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Status\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Priority\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Group\"}),customColumns.filter(col=>col.visible).map(column=>/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:column.name},column.id)),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Source\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Created\"}),/*#__PURE__*/_jsx(\"th\",{className:\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\",children:\"Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:\"bg-white divide-y divide-gray-200\",children:leadsData===null||leadsData===void 0?void 0:(_leadsData$leads4=leadsData.leads)===null||_leadsData$leads4===void 0?void 0:_leadsData$leads4.map(lead=>{var _lead$description;return/*#__PURE__*/_jsxs(\"tr\",{className:\"hover:bg-gray-50\",children:[/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedLeads.includes(lead.id),onChange:()=>handleLeadSelection(lead.id),className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 h-10 w-10\",children:/*#__PURE__*/_jsx(\"div\",{className:\"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-indigo-600\",children:lead.title.charAt(0).toUpperCase()})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm font-medium text-gray-900\",children:lead.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"text-sm text-gray-500 max-w-xs truncate\",children:[(_lead$description=lead.description)===null||_lead$description===void 0?void 0:_lead$description.substring(0,100),\"...\"]})]})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:lead.company||'N/A'}),/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-500\",children:lead.location||'N/A'})]}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getStatusColor(lead.status)),children:lead.status})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(getPriorityColor(lead.priority)),children:lead.priority})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:lead.group||'Ungrouped'})}),customColumns.filter(col=>col.visible).map(column=>/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"text-sm text-gray-900\",children:getCustomFieldValue(lead,column.id)})},column.id)),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap\",children:lead.url?/*#__PURE__*/_jsxs(\"button\",{onClick:()=>handleOpenSource(lead.url),className:\"inline-flex items-center px-2 py-1 text-xs font-medium text-indigo-600 bg-indigo-100 rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(ArrowTopRightOnSquareIcon,{className:\"h-3 w-3 mr-1\"}),\"View Source\"]}):/*#__PURE__*/_jsx(\"span\",{className:\"text-sm text-gray-500\",children:\"No URL\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\",children:new Date(lead.createdAt).toLocaleDateString()}),/*#__PURE__*/_jsx(\"td\",{className:\"px-6 py-4 whitespace-nowrap text-sm font-medium\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEditLead(lead),className:\"text-indigo-600 hover:text-indigo-900\",title:\"Edit Lead\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDeleteLead(lead.id),className:\"text-red-600 hover:text-red-900\",title:\"Delete Lead\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})})]},lead.id);})})]})}),(leadsData===null||leadsData===void 0?void 0:leadsData.pagination)&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 flex justify-between sm:hidden\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage-1),disabled:!leadsData.pagination.hasPrevPage,className:\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage+1),disabled:!leadsData.pagination.hasNextPage,className:\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Next\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-gray-700\",children:[\"Showing\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:(currentPage-1)*50+1}),' ',\"to\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:Math.min(currentPage*50,leadsData.pagination.totalItems)}),' ',\"of\",' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-medium\",children:leadsData.pagination.totalItems}),' ',\"results\"]})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"nav\",{className:\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage-1),disabled:!leadsData.pagination.hasPrevPage,className:\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Previous\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentPage(currentPage+1),disabled:!leadsData.pagination.hasNextPage,className:\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",children:\"Next\"})]})})]})]})]}),showColumnManager&&/*#__PURE__*/_jsx(ColumnManagerModal,{customColumns:customColumns,onUpdateColumn:updateCustomColumn,onRemoveColumn:removeCustomColumn,onToggleVisibility:toggleColumnVisibility,onAddColumn:addCustomColumn,onClose:()=>setShowColumnManager(false)}),showCreateModal&&/*#__PURE__*/_jsx(CreateLeadModal,{onClose:()=>setShowCreateModal(false),onSubmit:createLeadMutation.mutate,isLoading:createLeadMutation.isLoading}),showEditModal&&editingLead&&/*#__PURE__*/_jsx(EditLeadModal,{lead:editingLead,onClose:()=>{setShowEditModal(false);setEditingLead(null);},onSubmit:data=>updateLeadMutation.mutate({id:editingLead.id,data}),isLoading:updateLeadMutation.isLoading}),showGroupModal&&/*#__PURE__*/_jsx(GroupModal,{groupName:groupName,setGroupName:setGroupName,onClose:()=>setShowGroupModal(false),onSubmit:handleBulkGroupUpdate})]});};export default LeadsEnhanced;","map":{"version":3,"names":["React","useState","useEffect","useQuery","useMutation","useQueryClient","toast","PlusIcon","MagnifyingGlassIcon","FunnelIcon","TagIcon","UserGroupIcon","ChartBarIcon","PencilIcon","TrashIcon","CheckIcon","ChevronDownIcon","ChevronUpIcon","Cog6ToothIcon","ArrowTopRightOnSquareIcon","axios","CreateLeadModal","EditLeadModal","GroupModal","ColumnManagerModal","jsxs","_jsxs","jsx","_jsx","LeadsEnhanced","_groupsData$groups","_groupsData$groups2","_leadsData$leads3","_leadsData$leads4","selectedLeads","setSelectedLeads","filters","setFilters","status","priority","industry","group","search","tags","sortBy","setSortBy","sortOrder","setSortOrder","currentPage","setCurrentPage","showFilters","setShowFilters","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","editingLead","setEditingLead","showGroupModal","setShowGroupModal","groupName","setGroupName","showColumnManager","setShowColumnManager","customColumns","setCustomColumns","id","name","prompt","visible","queryClient","data","leadsData","isLoading","error","params","URLSearchParams","_objectSpread","page","limit","response","get","concat","keepPreviousData","statsData","groupsData","saved","localStorage","getItem","JSON","parse","setItem","stringify","createLeadMutation","leadData","post","onSuccess","invalidateQueries","success","onError","_error$response","_error$response$data","updateLeadMutation","_ref","put","_error$response2","_error$response2$data","deleteLeadMutation","delete","_error$response3","_error$response3$data","bulkUpdateMutation","_ref2","leadIds","updates","_error$response4","_error$response4$data","handleFilterChange","key","value","prev","handleSearch","handleLeadSelection","leadId","includes","filter","handleSelectAll","_leadsData$leads","length","leads","_leadsData$leads2","map","lead","handleBulkStatusUpdate","mutate","handleBulkPriorityUpdate","handleBulkGroupUpdate","trim","handleEditLead","handleDeleteLead","window","confirm","handleOpenSource","url","open","addCustomColumn","newColumn","Date","now","updateCustomColumn","field","col","removeCustomColumn","toggleColumnVisibility","getStatusColor","colors","new","contacted","qualified","proposal","won","lost","archived","getPriorityColor","low","medium","high","urgent","getCustomFieldValue","columnId","custom_fields","className","children","message","onClick","stats","totalLeads","leadsByStatus","groups","type","placeholder","onChange","e","target","count","forEach","checked","column","_lead$description","title","charAt","toUpperCase","description","substring","company","location","createdAt","toLocaleDateString","pagination","disabled","hasPrevPage","hasNextPage","Math","min","totalItems","onUpdateColumn","onRemoveColumn","onToggleVisibility","onAddColumn","onClose","onSubmit"],"sources":["/Users/jordanzane/Documents/Project Lead Scheduler/client/src/components/Leads/LeadsEnhanced.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { toast } from 'react-hot-toast';\nimport {\n  PlusIcon,\n  MagnifyingGlassIcon,\n  FunnelIcon,\n  TagIcon,\n  UserGroupIcon,\n  ChartBarIcon,\n  PencilIcon,\n  TrashIcon,\n  CheckIcon,\n  ChevronDownIcon,\n  ChevronUpIcon,\n  Cog6ToothIcon,\n  ArrowTopRightOnSquareIcon\n} from '@heroicons/react/24/outline';\nimport axios from 'axios';\n\n// Import modal components\nimport CreateLeadModal from './CreateLeadModal';\nimport EditLeadModal from './EditLeadModal';\nimport GroupModal from './GroupModal';\nimport ColumnManagerModal from './ColumnManagerModal';\n\nconst LeadsEnhanced = () => {\n  const [selectedLeads, setSelectedLeads] = useState([]);\n  const [filters, setFilters] = useState({\n    status: '',\n    priority: '',\n    industry: '',\n    group: '',\n    search: '',\n    tags: []\n  });\n  const [sortBy, setSortBy] = useState('createdAt');\n  const [sortOrder, setSortOrder] = useState('DESC');\n  const [currentPage, setCurrentPage] = useState(1);\n  const [showFilters, setShowFilters] = useState(false);\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingLead, setEditingLead] = useState(null);\n  const [showGroupModal, setShowGroupModal] = useState(false);\n  const [groupName, setGroupName] = useState('');\n  const [showColumnManager, setShowColumnManager] = useState(false);\n  const [customColumns, setCustomColumns] = useState([\n    { id: 'roomCount', name: 'Room Count', prompt: 'Extract the number of hotel rooms mentioned', visible: true },\n    { id: 'squareFootage', name: 'Square Footage', prompt: 'Find the total square footage or area mentioned', visible: true },\n    { id: 'budget', name: 'Budget', prompt: 'Extract the project budget or cost mentioned', visible: true },\n    { id: 'timeline', name: 'Timeline', prompt: 'Find the project timeline or completion date', visible: true }\n  ]);\n\n  const queryClient = useQueryClient();\n\n  // Fetch leads with filters\n  const { data: leadsData, isLoading, error } = useQuery(\n    ['leads', filters, sortBy, sortOrder, currentPage],\n    async () => {\n      const params = new URLSearchParams({\n        page: currentPage,\n        limit: 50,\n        sortBy,\n        sortOrder,\n        ...filters\n      });\n      \n      const response = await axios.get(`/api/leads?${params}`);\n      return response.data;\n    },\n    {\n      keepPreviousData: true\n    }\n  );\n\n  // Fetch lead statistics\n  const { data: statsData } = useQuery(\n    ['leadStats'],\n    async () => {\n      const response = await axios.get('/api/leads/stats/overview');\n      return response.data;\n    }\n  );\n\n  // Fetch available groups\n  const { data: groupsData } = useQuery(\n    ['leadGroups'],\n    async () => {\n      const response = await axios.get('/api/leads/groups');\n      return response.data;\n    }\n  );\n\n  // Load custom columns from localStorage\n  useEffect(() => {\n    const saved = localStorage.getItem('customColumns');\n    if (saved) {\n      setCustomColumns(JSON.parse(saved));\n    }\n  }, []);\n\n  // Save custom columns to localStorage\n  useEffect(() => {\n    localStorage.setItem('customColumns', JSON.stringify(customColumns));\n  }, [customColumns]);\n\n  // Mutations\n  const createLeadMutation = useMutation(\n    async (leadData) => {\n      const response = await axios.post('/api/leads', leadData);\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['leads']);\n        queryClient.invalidateQueries(['leadStats']);\n        toast.success('Lead created successfully');\n        setShowCreateModal(false);\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to create lead');\n      }\n    }\n  );\n\n  const updateLeadMutation = useMutation(\n    async ({ id, data }) => {\n      const response = await axios.put(`/api/leads/${id}`, data);\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['leads']);\n        queryClient.invalidateQueries(['leadStats']);\n        toast.success('Lead updated successfully');\n        setShowEditModal(false);\n        setEditingLead(null);\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to update lead');\n      }\n    }\n  );\n\n  const deleteLeadMutation = useMutation(\n    async (id) => {\n      await axios.delete(`/api/leads/${id}`);\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['leads']);\n        queryClient.invalidateQueries(['leadStats']);\n        toast.success('Lead deleted successfully');\n        setSelectedLeads([]);\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to delete lead');\n      }\n    }\n  );\n\n  const bulkUpdateMutation = useMutation(\n    async ({ leadIds, updates }) => {\n      const response = await axios.post('/api/leads/bulk-update', {\n        leadIds,\n        updates\n      });\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['leads']);\n        queryClient.invalidateQueries(['leadStats']);\n        toast.success('Leads updated successfully');\n        setSelectedLeads([]);\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to update leads');\n      }\n    }\n  );\n\n  // Handle filter changes\n  const handleFilterChange = (key, value) => {\n    setFilters(prev => ({ ...prev, [key]: value }));\n    setCurrentPage(1);\n  };\n\n  // Handle search\n  const handleSearch = (value) => {\n    setFilters(prev => ({ ...prev, search: value }));\n    setCurrentPage(1);\n  };\n\n  // Handle lead selection\n  const handleLeadSelection = (leadId) => {\n    setSelectedLeads(prev => \n      prev.includes(leadId)\n        ? prev.filter(id => id !== leadId)\n        : [...prev, leadId]\n    );\n  };\n\n  // Handle bulk selection\n  const handleSelectAll = () => {\n    if (selectedLeads.length === leadsData?.leads?.length) {\n      setSelectedLeads([]);\n    } else {\n      setSelectedLeads(leadsData?.leads?.map(lead => lead.id) || []);\n    }\n  };\n\n  // Handle bulk status update\n  const handleBulkStatusUpdate = (status) => {\n    if (selectedLeads.length === 0) return;\n    \n    bulkUpdateMutation.mutate({\n      leadIds: selectedLeads,\n      updates: { status }\n    });\n  };\n\n  // Handle bulk priority update\n  const handleBulkPriorityUpdate = (priority) => {\n    if (selectedLeads.length === 0) return;\n    \n    bulkUpdateMutation.mutate({\n      leadIds: selectedLeads,\n      updates: { priority }\n    });\n  };\n\n  // Handle bulk group update\n  const handleBulkGroupUpdate = () => {\n    if (selectedLeads.length === 0 || !groupName.trim()) return;\n    \n    bulkUpdateMutation.mutate({\n      leadIds: selectedLeads,\n      updates: { group: groupName.trim() }\n    });\n    setGroupName('');\n    setShowGroupModal(false);\n  };\n\n  // Handle lead editing\n  const handleEditLead = (lead) => {\n    setEditingLead(lead);\n    setShowEditModal(true);\n  };\n\n  // Handle lead deletion\n  const handleDeleteLead = (leadId) => {\n    if (window.confirm('Are you sure you want to delete this lead?')) {\n      deleteLeadMutation.mutate(leadId);\n    }\n  };\n\n  // Handle opening source URL\n  const handleOpenSource = (url) => {\n    if (url) {\n      window.open(url, '_blank');\n    }\n  };\n\n  // Handle custom column management\n  const addCustomColumn = () => {\n    const newColumn = {\n      id: `custom_${Date.now()}`,\n      name: '',\n      prompt: '',\n      visible: true\n    };\n    setCustomColumns([...customColumns, newColumn]);\n  };\n\n  const updateCustomColumn = (id, field, value) => {\n    setCustomColumns(prev => \n      prev.map(col => \n        col.id === id ? { ...col, [field]: value } : col\n      )\n    );\n  };\n\n  const removeCustomColumn = (id) => {\n    setCustomColumns(prev => prev.filter(col => col.id !== id));\n  };\n\n  const toggleColumnVisibility = (id) => {\n    setCustomColumns(prev => \n      prev.map(col => \n        col.id === id ? { ...col, visible: !col.visible } : col\n      )\n    );\n  };\n\n  // Get status color\n  const getStatusColor = (status) => {\n    const colors = {\n      new: 'bg-blue-100 text-blue-800',\n      contacted: 'bg-yellow-100 text-yellow-800',\n      qualified: 'bg-green-100 text-green-800',\n      proposal: 'bg-purple-100 text-purple-800',\n      won: 'bg-emerald-100 text-emerald-800',\n      lost: 'bg-red-100 text-red-800',\n      archived: 'bg-gray-100 text-gray-800'\n    };\n    return colors[status] || colors.new;\n  };\n\n  // Get priority color\n  const getPriorityColor = (priority) => {\n    const colors = {\n      low: 'bg-gray-100 text-gray-800',\n      medium: 'bg-yellow-100 text-yellow-800',\n      high: 'bg-orange-100 text-orange-800',\n      urgent: 'bg-red-100 text-red-800'\n    };\n    return colors[priority] || colors.medium;\n  };\n\n  // Get custom field value\n  const getCustomFieldValue = (lead, columnId) => {\n    if (!lead.custom_fields) return 'N/A';\n    return lead.custom_fields[columnId] || 'N/A';\n  };\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <p className=\"text-red-800\">Error loading leads: {error.message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Leads</h1>\n          <p className=\"text-gray-600\">Manage and organize your leads</p>\n        </div>\n        <div className=\"flex space-x-3\">\n          <button\n            onClick={() => setShowColumnManager(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            <Cog6ToothIcon className=\"h-4 w-4 mr-2\" />\n            Columns\n          </button>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            <PlusIcon className=\"h-4 w-4 mr-2\" />\n            New Lead\n          </button>\n        </div>\n      </div>\n\n      {/* Statistics Cards */}\n      {statsData && (\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6\">\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <UserGroupIcon className=\"h-6 w-6 text-gray-400\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Total Leads</dt>\n                    <dd className=\"text-lg font-medium text-gray-900\">{statsData.stats.totalLeads}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <CheckIcon className=\"h-6 w-6 text-green-400\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Qualified</dt>\n                    <dd className=\"text-lg font-medium text-gray-900\">{statsData.stats.leadsByStatus.qualified || 0}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <TagIcon className=\"h-6 w-6 text-blue-400\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">New</dt>\n                    <dd className=\"text-lg font-medium text-gray-900\">{statsData.stats.leadsByStatus.new || 0}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white overflow-hidden shadow rounded-lg\">\n            <div className=\"p-5\">\n              <div className=\"flex items-center\">\n                <div className=\"flex-shrink-0\">\n                  <ChartBarIcon className=\"h-6 w-6 text-purple-400\" />\n                </div>\n                <div className=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt className=\"text-sm font-medium text-gray-500 truncate\">Active Groups</dt>\n                    <dd className=\"text-lg font-medium text-gray-900\">{groupsData?.groups?.length || 0}</dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Filters and Search */}\n      <div className=\"bg-white shadow rounded-lg mb-6\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0\">\n            {/* Search */}\n            <div className=\"relative flex-1 max-w-lg\">\n              <div className=\"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none\">\n                <MagnifyingGlassIcon className=\"h-5 w-5 text-gray-400\" />\n              </div>\n              <input\n                type=\"text\"\n                placeholder=\"Search leads...\"\n                value={filters.search}\n                onChange={(e) => handleSearch(e.target.value)}\n                className=\"block w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md leading-5 bg-white placeholder-gray-500 focus:outline-none focus:placeholder-gray-400 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              />\n            </div>\n\n            {/* Filter Toggle */}\n            <button\n              onClick={() => setShowFilters(!showFilters)}\n              className=\"inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n            >\n              <FunnelIcon className=\"h-4 w-4 mr-2\" />\n              Filters\n              {showFilters ? (\n                <ChevronUpIcon className=\"h-4 w-4 ml-2\" />\n              ) : (\n                <ChevronDownIcon className=\"h-4 w-4 ml-2\" />\n              )}\n            </button>\n          </div>\n\n          {/* Advanced Filters */}\n          {showFilters && (\n            <div className=\"mt-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n              <select\n                value={filters.status}\n                onChange={(e) => handleFilterChange('status', e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              >\n                <option value=\"\">All Statuses</option>\n                <option value=\"new\">New</option>\n                <option value=\"contacted\">Contacted</option>\n                <option value=\"qualified\">Qualified</option>\n                <option value=\"proposal\">Proposal</option>\n                <option value=\"won\">Won</option>\n                <option value=\"lost\">Lost</option>\n                <option value=\"archived\">Archived</option>\n              </select>\n\n              <select\n                value={filters.priority}\n                onChange={(e) => handleFilterChange('priority', e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              >\n                <option value=\"\">All Priorities</option>\n                <option value=\"low\">Low</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n                <option value=\"urgent\">Urgent</option>\n              </select>\n\n              <select\n                value={filters.industry}\n                onChange={(e) => handleFilterChange('industry', e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              >\n                <option value=\"\">All Industries</option>\n                <option value=\"hotel\">Hotel</option>\n                <option value=\"construction\">Construction</option>\n                <option value=\"software\">Software</option>\n                <option value=\"healthcare\">Healthcare</option>\n                <option value=\"education\">Education</option>\n              </select>\n\n              <select\n                value={filters.group}\n                onChange={(e) => handleFilterChange('group', e.target.value)}\n                className=\"block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm\"\n              >\n                <option value=\"\">All Groups</option>\n                {groupsData?.groups?.map(group => (\n                  <option key={group.group} value={group.group}>\n                    {group.group} ({group.count})\n                  </option>\n                ))}\n              </select>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Bulk Actions */}\n      {selectedLeads.length > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm font-medium text-blue-800\">\n                {selectedLeads.length} lead(s) selected\n              </span>\n              \n              <select\n                onChange={(e) => handleBulkStatusUpdate(e.target.value)}\n                className=\"block px-3 py-1 border border-blue-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Update Status</option>\n                <option value=\"new\">New</option>\n                <option value=\"contacted\">Contacted</option>\n                <option value=\"qualified\">Qualified</option>\n                <option value=\"proposal\">Proposal</option>\n                <option value=\"won\">Won</option>\n                <option value=\"lost\">Lost</option>\n                <option value=\"archived\">Archived</option>\n              </select>\n\n              <select\n                onChange={(e) => handleBulkPriorityUpdate(e.target.value)}\n                className=\"block px-3 py-1 border border-blue-300 rounded-md text-sm focus:outline-none focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"\">Update Priority</option>\n                <option value=\"low\">Low</option>\n                <option value=\"medium\">Medium</option>\n                <option value=\"high\">High</option>\n                <option value=\"urgent\">Urgent</option>\n              </select>\n\n              <button\n                onClick={() => setShowGroupModal(true)}\n                className=\"inline-flex items-center px-3 py-1 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <TagIcon className=\"h-4 w-4 mr-1\" />\n                Group\n              </button>\n              \n              <button\n                onClick={() => {\n                  if (window.confirm(`Are you sure you want to delete ${selectedLeads.length} lead(s)?`)) {\n                    selectedLeads.forEach(id => deleteLeadMutation.mutate(id));\n                  }\n                }}\n                className=\"inline-flex items-center px-3 py-1 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                <TrashIcon className=\"h-4 w-4 mr-1\" />\n                Delete All\n              </button>\n            </div>\n\n            <button\n              onClick={() => setSelectedLeads([])}\n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n            >\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Leads Table */}\n      <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n        <div className=\"px-4 py-5 sm:px-6\">\n          <div className=\"flex items-center justify-between\">\n            <h3 className=\"text-lg leading-6 font-medium text-gray-900\">Lead List</h3>\n            <div className=\"flex items-center space-x-4\">\n              <select\n                value={sortBy}\n                onChange={(e) => setSortBy(e.target.value)}\n                className=\"block px-3 py-1 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              >\n                <option value=\"createdAt\">Date Created</option>\n                <option value=\"title\">Title</option>\n                <option value=\"company\">Company</option>\n                <option value=\"status\">Status</option>\n                <option value=\"priority\">Priority</option>\n              </select>\n\n              <button\n                onClick={() => setSortOrder(sortOrder === 'ASC' ? 'DESC' : 'ASC')}\n                className=\"inline-flex items-center px-3 py-1 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                {sortOrder === 'ASC' ? '↑' : '↓'}\n              </button>\n            </div>\n          </div>\n        </div>\n\n        {isLoading ? (\n          <div className=\"px-4 py-8 text-center\">\n            <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"></div>\n            <p className=\"mt-2 text-gray-600\">Loading leads...</p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    <input\n                      type=\"checkbox\"\n                      checked={selectedLeads.length === leadsData?.leads?.length}\n                      onChange={handleSelectAll}\n                      className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                    />\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Lead\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Company\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Priority\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Group\n                  </th>\n                  {customColumns.filter(col => col.visible).map(column => (\n                    <th key={column.id} className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      {column.name}\n                    </th>\n                  ))}\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Source\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Created\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {leadsData?.leads?.map((lead) => (\n                  <tr key={lead.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <input\n                        type=\"checkbox\"\n                        checked={selectedLeads.includes(lead.id)}\n                        onChange={() => handleLeadSelection(lead.id)}\n                        className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                      />\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <div className=\"flex items-center\">\n                        <div className=\"flex-shrink-0 h-10 w-10\">\n                          <div className=\"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center\">\n                            <span className=\"text-sm font-medium text-indigo-600\">\n                              {lead.title.charAt(0).toUpperCase()}\n                            </span>\n                          </div>\n                        </div>\n                        <div className=\"ml-4\">\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {lead.title}\n                          </div>\n                          <div className=\"text-sm text-gray-500 max-w-xs truncate\">\n                            {lead.description?.substring(0, 100)}...\n                          </div>\n                        </div>\n                      </div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">{lead.company || 'N/A'}</div>\n                      <div className=\"text-sm text-gray-500\">{lead.location || 'N/A'}</div>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getStatusColor(lead.status)}`}>\n                        {lead.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <span className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${getPriorityColor(lead.priority)}`}>\n                        {lead.priority}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      <div className=\"text-sm text-gray-900\">{lead.group || 'Ungrouped'}</div>\n                    </td>\n                    {customColumns.filter(col => col.visible).map(column => (\n                      <td key={column.id} className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"text-sm text-gray-900\">\n                          {getCustomFieldValue(lead, column.id)}\n                        </div>\n                      </td>\n                    ))}\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {lead.url ? (\n                        <button\n                          onClick={() => handleOpenSource(lead.url)}\n                          className=\"inline-flex items-center px-2 py-1 text-xs font-medium text-indigo-600 bg-indigo-100 rounded-md hover:bg-indigo-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                        >\n                          <ArrowTopRightOnSquareIcon className=\"h-3 w-3 mr-1\" />\n                          View Source\n                        </button>\n                      ) : (\n                        <span className=\"text-sm text-gray-500\">No URL</span>\n                      )}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {new Date(lead.createdAt).toLocaleDateString()}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                      <div className=\"flex space-x-2\">\n                        <button\n                          onClick={() => handleEditLead(lead)}\n                          className=\"text-indigo-600 hover:text-indigo-900\"\n                          title=\"Edit Lead\"\n                        >\n                          <PencilIcon className=\"h-4 w-4\" />\n                        </button>\n                        <button\n                          onClick={() => handleDeleteLead(lead.id)}\n                          className=\"text-red-600 hover:text-red-900\"\n                          title=\"Delete Lead\"\n                        >\n                          <TrashIcon className=\"h-4 w-4\" />\n                        </button>\n                      </div>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n\n        {/* Pagination */}\n        {leadsData?.pagination && (\n          <div className=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n            <div className=\"flex-1 flex justify-between sm:hidden\">\n              <button\n                onClick={() => setCurrentPage(currentPage - 1)}\n                disabled={!leadsData.pagination.hasPrevPage}\n                className=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Previous\n              </button>\n              <button\n                onClick={() => setCurrentPage(currentPage + 1)}\n                disabled={!leadsData.pagination.hasNextPage}\n                className=\"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n              >\n                Next\n              </button>\n            </div>\n            <div className=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p className=\"text-sm text-gray-700\">\n                  Showing{' '}\n                  <span className=\"font-medium\">{(currentPage - 1) * 50 + 1}</span>\n                  {' '}to{' '}\n                  <span className=\"font-medium\">\n                    {Math.min(currentPage * 50, leadsData.pagination.totalItems)}\n                  </span>\n                  {' '}of{' '}\n                  <span className=\"font-medium\">{leadsData.pagination.totalItems}</span>\n                  {' '}results\n                </p>\n              </div>\n              <div>\n                <nav className=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                  <button\n                    onClick={() => setCurrentPage(currentPage - 1)}\n                    disabled={!leadsData.pagination.hasPrevPage}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Previous\n                  </button>\n                  <button\n                    onClick={() => setCurrentPage(currentPage + 1)}\n                    disabled={!leadsData.pagination.hasNextPage}\n                    className=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                  >\n                    Next\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* Column Manager Modal */}\n      {showColumnManager && (\n        <ColumnManagerModal\n          customColumns={customColumns}\n          onUpdateColumn={updateCustomColumn}\n          onRemoveColumn={removeCustomColumn}\n          onToggleVisibility={toggleColumnVisibility}\n          onAddColumn={addCustomColumn}\n          onClose={() => setShowColumnManager(false)}\n        />\n      )}\n\n      {/* Create Lead Modal */}\n      {showCreateModal && (\n        <CreateLeadModal\n          onClose={() => setShowCreateModal(false)}\n          onSubmit={createLeadMutation.mutate}\n          isLoading={createLeadMutation.isLoading}\n        />\n      )}\n\n      {/* Edit Lead Modal */}\n      {showEditModal && editingLead && (\n        <EditLeadModal\n          lead={editingLead}\n          onClose={() => {\n            setShowEditModal(false);\n            setEditingLead(null);\n          }}\n          onSubmit={(data) => updateLeadMutation.mutate({ id: editingLead.id, data })}\n          isLoading={updateLeadMutation.isLoading}\n        />\n      )}\n\n      {/* Group Modal */}\n      {showGroupModal && (\n        <GroupModal\n          groupName={groupName}\n          setGroupName={setGroupName}\n          onClose={() => setShowGroupModal(false)}\n          onSubmit={handleBulkGroupUpdate}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default LeadsEnhanced;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}