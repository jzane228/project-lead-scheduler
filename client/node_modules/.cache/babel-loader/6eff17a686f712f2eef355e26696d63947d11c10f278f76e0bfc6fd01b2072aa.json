{"ast":null,"code":"import _objectSpread from\"/Users/jordanzane/Documents/Project Lead Scheduler/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import{useQuery,useMutation,useQueryClient}from'react-query';import{toast}from'react-hot-toast';import{PlusIcon,PencilIcon,TrashIcon,PlayIcon,PauseIcon,CogIcon,TagIcon}from'@heroicons/react/24/outline';import axios from'axios';import ScrapingProgress from'./ScrapingProgress';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";const ScrapingConfigs=()=>{var _configsData$configs4,_configsData$configs5,_configsData$configs6,_industriesData$indus;const[showCreateModal,setShowCreateModal]=useState(false);const[showEditModal,setShowEditModal]=useState(false);const[editingConfig,setEditingConfig]=useState(null);const[selectedConfigs,setSelectedConfigs]=useState([]);const[showGroupModal,setShowGroupModal]=useState(false);const[groupName,setGroupName]=useState('');const[filters,setFilters]=useState({group:''});const[currentScrapingJob,setCurrentScrapingJob]=useState(null);const[scrapingProgress,setScrapingProgress]=useState(null);const[formData,setFormData]=useState({name:'',description:'',industry_type:'',keywords:[''],sources:['scrapy','google','bing','news'],frequency:'daily',max_results_per_run:50,location:'',search_query:'',group:'',is_active:true});const[fieldErrors,setFieldErrors]=useState({});const[generalError,setGeneralError]=useState('');const queryClient=useQueryClient();// Fetch scraping configurations\nconst{data:configsData,isLoading,error}=useQuery(['scrapingConfigs'],async()=>{const response=await axios.get('/api/scraping/configs');return response.data;});// Fetch industries for dropdown\nconst{data:industriesData}=useQuery(['industries'],async()=>{const response=await axios.get('/api/industries');return response.data;});// Create configuration mutation\nconst createConfigMutation=useMutation(async configData=>{const response=await axios.post('/api/scraping/configs',configData);return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['scrapingConfigs']);toast.success('Configuration created successfully');setShowCreateModal(false);resetForm();setFieldErrors({});setGeneralError('');},onError:error=>{var _error$response;const errorData=(_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.data;if(errorData!==null&&errorData!==void 0&&errorData.fieldErrors){// Handle field-specific errors\nconst errors={};errorData.fieldErrors.forEach(err=>{errors[err.field]=err.message;});setFieldErrors(errors);setGeneralError(errorData.message||'Please fix the highlighted fields below');}else{// Handle general errors\nsetGeneralError((errorData===null||errorData===void 0?void 0:errorData.error)||'Failed to create configuration');setFieldErrors({});}toast.error((errorData===null||errorData===void 0?void 0:errorData.error)||'Failed to create configuration');}});// Update configuration mutation\nconst updateConfigMutation=useMutation(async _ref=>{let{id,data}=_ref;const response=await axios.put(\"/api/scraping/configs/\".concat(id),data);return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['scrapingConfigs']);toast.success('Configuration updated successfully');setShowEditModal(false);setEditingConfig(null);resetForm();setFieldErrors({});setGeneralError('');},onError:error=>{var _error$response2;const errorData=(_error$response2=error.response)===null||_error$response2===void 0?void 0:_error$response2.data;if(errorData!==null&&errorData!==void 0&&errorData.fieldErrors){// Handle field-specific errors\nconst errors={};errorData.fieldErrors.forEach(err=>{errors[err.field]=err.message;});setFieldErrors(errors);setGeneralError(errorData.message||'Please fix the highlighted fields below');}else{// Handle general errors\nsetGeneralError((errorData===null||errorData===void 0?void 0:errorData.error)||'Failed to update configuration');setFieldErrors({});}toast.error((errorData===null||errorData===void 0?void 0:errorData.error)||'Failed to update configuration');}});// Toggle configuration status mutation\nconst toggleStatusMutation=useMutation(async _ref2=>{let{id,isActive}=_ref2;const response=await axios.patch(\"/api/scraping/configs/\".concat(id,\"/toggle\"),{is_active:isActive});return response.data;},{onSuccess:()=>{queryClient.invalidateQueries(['scrapingConfigs']);toast.success('Configuration status updated');},onError:error=>{var _error$response3,_error$response3$data;toast.error(((_error$response3=error.response)===null||_error$response3===void 0?void 0:(_error$response3$data=_error$response3.data)===null||_error$response3$data===void 0?void 0:_error$response3$data.error)||'Failed to update status');}});// Delete configuration mutation\nconst deleteConfigMutation=useMutation(async id=>{await axios.delete(\"/api/scraping/configs/\".concat(id));},{onSuccess:()=>{queryClient.invalidateQueries(['scrapingConfigs']);toast.success('Configuration deleted successfully');},onError:error=>{var _error$response4,_error$response4$data;toast.error(((_error$response4=error.response)===null||_error$response4===void 0?void 0:(_error$response4$data=_error$response4.data)===null||_error$response4$data===void 0?void 0:_error$response4$data.error)||'Failed to delete configuration');}});// Bulk delete configurations\nconst bulkDeleteConfigs=()=>{if(selectedConfigs.length===0)return;if(window.confirm(\"Are you sure you want to delete \".concat(selectedConfigs.length,\" configuration(s)?\"))){selectedConfigs.forEach(id=>deleteConfigMutation.mutate(id));setSelectedConfigs([]);}};// Bulk group update\nconst handleBulkGroupUpdate=()=>{if(selectedConfigs.length===0||!groupName.trim())return;// Update each selected configuration with the new group\nselectedConfigs.forEach(id=>{var _configsData$configs;const config=configsData===null||configsData===void 0?void 0:(_configsData$configs=configsData.configs)===null||_configsData$configs===void 0?void 0:_configsData$configs.find(c=>c.id===id);if(config){updateConfigMutation.mutate({id,data:_objectSpread(_objectSpread({},config),{},{group:groupName.trim()})});}});setGroupName('');setShowGroupModal(false);setSelectedConfigs([]);};// Handle configuration selection\nconst handleConfigSelection=configId=>{setSelectedConfigs(prev=>prev.includes(configId)?prev.filter(id=>id!==configId):[...prev,configId]);};// Handle select all\nconst handleSelectAll=()=>{var _configsData$configs2;if(selectedConfigs.length===(configsData===null||configsData===void 0?void 0:(_configsData$configs2=configsData.configs)===null||_configsData$configs2===void 0?void 0:_configsData$configs2.length)){setSelectedConfigs([]);}else{var _configsData$configs3;setSelectedConfigs((configsData===null||configsData===void 0?void 0:(_configsData$configs3=configsData.configs)===null||_configsData$configs3===void 0?void 0:_configsData$configs3.map(config=>config.id))||[]);}};// Run configuration mutation\nconst runConfigMutation=useMutation(async id=>{const response=await axios.post(\"/api/scraping/configs/\".concat(id,\"/run\"));return response.data;},{onSuccess:(data,variables)=>{// Start progress tracking for enhanced scraping\nconst jobId=\"config-\".concat(variables,\"-\").concat(Date.now());setCurrentScrapingJob({id:variables,jobId});setScrapingProgress({stage:'initializing',progress:0,total:1,percentage:0,message:'Starting enhanced scraping...'});toast.success('Enhanced scraping job started - searching high-quality sources');},onError:error=>{var _error$response5,_error$response5$data;toast.error(((_error$response5=error.response)===null||_error$response5===void 0?void 0:(_error$response5$data=_error$response5.data)===null||_error$response5$data===void 0?void 0:_error$response5$data.error)||'Failed to start scraping job');setCurrentScrapingJob(null);setScrapingProgress(null);}});const resetForm=()=>{setFormData({name:'',description:'',industry_type:'',keywords:[''],sources:['scrapy','google','bing','news'],frequency:'daily',max_results_per_run:50,location:'',search_query:'',is_active:true});setFieldErrors({});setGeneralError('');};const handleInputChange=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));// Clear field error when user starts typing\nif(fieldErrors[field]){setFieldErrors(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:''}));}};const handleKeywordsChange=(index,value)=>{const newKeywords=[...formData.keywords];newKeywords[index]=value;// Add new empty keyword field if this is the last one and it's not empty\nif(index===newKeywords.length-1&&value&&!newKeywords.includes('')){newKeywords.push('');}// Remove empty keywords except the last one\nconst filteredKeywords=newKeywords.filter((keyword,i)=>keyword||i===newKeywords.length-1);setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{keywords:filteredKeywords}));// Clear keywords error when user starts typing\nif(fieldErrors.keywords){setFieldErrors(prev=>_objectSpread(_objectSpread({},prev),{},{keywords:''}));}};const handleSourcesChange=sources=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{sources}));};const handleSubmit=e=>{e.preventDefault();// Clear previous errors\nsetFieldErrors({});setGeneralError('');// Filter out empty keywords\nconst filteredKeywords=formData.keywords.filter(keyword=>keyword.trim());if(filteredKeywords.length===0){setFieldErrors(prev=>_objectSpread(_objectSpread({},prev),{},{keywords:'At least one keyword is required'}));return;}const submitData=_objectSpread(_objectSpread({},formData),{},{keywords:filteredKeywords});if(editingConfig){updateConfigMutation.mutate({id:editingConfig.id,data:submitData});}else{createConfigMutation.mutate(submitData);}};const handleEdit=config=>{setEditingConfig(config);setFormData({name:config.name,description:config.description||'',industry_type:config.industry_type||'',keywords:config.keywords.length>0?[...config.keywords,'']:[''],sources:config.sources.length>0?config.sources:['scrapy','google','bing','news'],frequency:config.frequency||'daily',max_results_per_run:config.max_results_per_run||50,location:config.location||'',search_query:config.search_query||'',is_active:config.is_active});setFieldErrors({});setGeneralError('');setShowEditModal(true);};const handleDelete=config=>{if(window.confirm(\"Are you sure you want to delete \\\"\".concat(config.name,\"\\\"?\"))){deleteConfigMutation.mutate(config.id);}};const handleToggleStatus=config=>{toggleStatusMutation.mutate({id:config.id,isActive:!config.is_active});};const handleRunNow=config=>{if(window.confirm(\"Run scraping job for \\\"\".concat(config.name,\"\\\" now?\"))){runConfigMutation.mutate(config.id);}};const getFrequencyLabel=frequency=>{const labels={hourly:'Hourly',daily:'Daily',weekly:'Weekly',monthly:'Monthly',custom:'Custom'};return labels[frequency]||frequency;};// Helper function to get field error styling\nconst getFieldErrorStyle=fieldName=>{return fieldErrors[fieldName]?'border-red-300 focus:border-red-500 focus:ring-red-500':'border-gray-300 focus:border-indigo-500 focus:ring-indigo-500';};if(error){return/*#__PURE__*/_jsx(\"div\",{className:\"p-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-50 border border-red-200 rounded-md p-4\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-red-800\",children:[\"Error loading configurations: \",error.message]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between items-center mb-6\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Scraping Configurations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-gray-600\",children:\"Manage your automated lead scraping jobs\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 p-2 bg-green-50 border border-green-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-green-700\",children:[\"\\uD83D\\uDE80 \",/*#__PURE__*/_jsx(\"strong\",{children:\"Enhanced Scraping Service Active:\"}),\" All scraping jobs now use our advanced technology for high-quality lead generation with AI-powered data extraction.\"]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsxs(\"select\",{value:(filters===null||filters===void 0?void 0:filters.group)||'',onChange:e=>setFilters(prev=>_objectSpread(_objectSpread({},prev),{},{group:e.target.value})),className:\"block px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All Groups\"}),configsData===null||configsData===void 0?void 0:(_configsData$configs4=configsData.configs)===null||_configsData$configs4===void 0?void 0:_configsData$configs4.reduce((groups,config)=>{if(config.group&&!groups.includes(config.group)){groups.push(config.group);}return groups;},[]).map(group=>/*#__PURE__*/_jsx(\"option\",{value:group,children:group},group))]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"New Configuration\"]})]})]}),selectedConfigs.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium text-blue-800\",children:[selectedConfigs.length,\" configuration(s) selected\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:bulkDeleteConfigs,className:\"inline-flex items-center px-3 py-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\",children:[/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4 mr-1\"}),\"Delete All\"]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowGroupModal(true),className:\"inline-flex items-center px-3 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\",children:[/*#__PURE__*/_jsx(TagIcon,{className:\"h-4 w-4 mr-1\"}),\"Group\"]})]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setSelectedConfigs([]),className:\"text-blue-600 hover:text-blue-800 text-sm font-medium\",children:\"Clear Selection\"})]})}),currentScrapingJob&&scrapingProgress&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(ScrapingProgress,{jobId:currentScrapingJob.jobId,onComplete:()=>{setCurrentScrapingJob(null);setScrapingProgress(null);queryClient.invalidateQueries(['scrapingConfigs']);toast.success('Enhanced scraping completed! High-quality leads have been found and saved.');},onError:()=>{setCurrentScrapingJob(null);setScrapingProgress(null);toast.error('Scraping job failed. Please try again.');}})}),isLoading?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-gray-600\",children:\"Loading configurations...\"})]}):/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow overflow-hidden sm:rounded-md\",children:(configsData===null||configsData===void 0?void 0:(_configsData$configs5=configsData.configs)===null||_configsData$configs5===void 0?void 0:_configsData$configs5.filter(config=>!filters.group||config.group===filters.group).length)===0?/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-12\",children:[/*#__PURE__*/_jsx(CogIcon,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No configurations\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Get started by creating your first scraping configuration.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setShowCreateModal(true),className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:[/*#__PURE__*/_jsx(PlusIcon,{className:\"h-4 w-4 mr-2\"}),\"New Configuration\"]})})]}):/*#__PURE__*/_jsx(\"ul\",{className:\"divide-y divide-gray-200\",children:configsData===null||configsData===void 0?void 0:(_configsData$configs6=configsData.configs)===null||_configsData$configs6===void 0?void 0:_configsData$configs6.filter(config=>!filters.group||config.group===filters.group).map(config=>/*#__PURE__*/_jsxs(\"li\",{className:\"px-6 py-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1 min-w-0\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-3\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:selectedConfigs.includes(config.id),onChange:()=>handleConfigSelection(config.id),className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(CogIcon,{className:\"h-6 w-6 text-gray-400\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm font-medium text-gray-900 truncate\",children:config.name}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 truncate\",children:config.description||'No description'}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex items-center space-x-4 text-xs text-gray-500\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Industry: \",config.industry_type||'Any']}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Frequency: \",getFrequencyLabel(config.frequency)]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Keywords: \",config.keywords.length]}),/*#__PURE__*/_jsxs(\"span\",{children:[\"Max Results: \",config.max_results_per_run]}),config.group&&/*#__PURE__*/_jsxs(\"span\",{children:[\"Group: \",config.group]})]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleRunNow(config),disabled:!config.is_active,className:\"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\",title:\"Run now\",children:/*#__PURE__*/_jsx(PlayIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus(config),className:\"inline-flex items-center px-2 py-1 border rounded text-xs font-medium \".concat(config.is_active?'border-green-300 text-green-700 bg-green-50 hover:bg-green-100':'border-gray-300 text-gray-700 bg-gray-50 hover:bg-gray-100'),title:config.is_active?'Deactivate':'Activate',children:config.is_active?/*#__PURE__*/_jsx(PauseIcon,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(PlayIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(config),className:\"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50\",title:\"Edit\",children:/*#__PURE__*/_jsx(PencilIcon,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(config),className:\"inline-flex items-center px-2 py-1 border border-red-300 rounded text-xs font-medium text-red-700 bg-white hover:bg-red-50\",title:\"Delete\",children:/*#__PURE__*/_jsx(TrashIcon,{className:\"h-4 w-4\"})})]})]}),config.keywords.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 flex flex-wrap gap-1\",children:config.keywords.map((keyword,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\",children:keyword},index))})]},config.id))})}),(showCreateModal||showEditModal)&&/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:editingConfig?'Edit Configuration':'New Configuration'}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm text-blue-800\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"\\uD83D\\uDE80 Enhanced Scraping Service:\"}),\" This configuration will use our advanced scraping technology to find high-quality business leads from multiple sources, with AI-powered data extraction and full content analysis.\"]})}),generalError&&/*#__PURE__*/_jsx(\"div\",{className:\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\",children:/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-red-800\",children:generalError})}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Name *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:formData.name,onChange:e=>handleInputChange('name',e.target.value),className:\"mt-1 block w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-offset-2 \".concat(getFieldErrorStyle('name'))}),fieldErrors.name&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:fieldErrors.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description\"}),/*#__PURE__*/_jsx(\"textarea\",{value:formData.description,onChange:e=>handleInputChange('description',e.target.value),rows:3,className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Industry Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.industry_type,onChange:e=>handleInputChange('industry_type',e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Any Industry\"}),industriesData===null||industriesData===void 0?void 0:(_industriesData$indus=industriesData.industries)===null||_industriesData$indus===void 0?void 0:_industriesData$indus.map(industry=>/*#__PURE__*/_jsx(\"option\",{value:industry.name,children:industry.name},industry.id))]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Keywords *\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500 mb-2\",children:\"Enter multiple keywords. You can separate them with commas or use separate lines.\"}),formData.keywords.map((keyword,index)=>/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:keyword,onChange:e=>handleKeywordsChange(index,e.target.value),placeholder:index===0?\"e.g., New Boutique Hotel Projects\":\"Additional keyword\",className:\"mt-1 block w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-offset-2 \".concat(getFieldErrorStyle('keywords'))},index)),fieldErrors.keywords&&/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-red-600\",children:fieldErrors.keywords})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Sources\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500 mb-2\",children:\"Select high-quality sources for enhanced lead generation. We recommend using multiple sources for best results.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2 space-y-2\",children:[{key:'scrapy',label:'Scrapy API',description:'High-quality business news scraping'},{key:'google',label:'Google News',description:'Latest news and announcements'},{key:'bing',label:'Bing News',description:'Alternative news source'},{key:'news',label:'Business News',description:'Industry-specific news sites'},{key:'rss',label:'RSS Feeds',description:'Direct feed monitoring (fallback)'}].map(source=>/*#__PURE__*/_jsxs(\"label\",{className:\"flex items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.sources.includes(source.key),onChange:e=>{if(e.target.checked){handleSourcesChange([...formData.sources,source.key]);}else{handleSourcesChange(formData.sources.filter(s=>s!==source.key));}},className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded mt-0.5\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"text-sm font-medium text-gray-700\",children:source.label}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xs text-gray-500\",children:source.description})]})]},source.key))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Frequency\"}),/*#__PURE__*/_jsxs(\"select\",{value:formData.frequency,onChange:e=>handleInputChange('frequency',e.target.value),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"hourly\",children:\"Hourly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"daily\",children:\"Daily\"}),/*#__PURE__*/_jsx(\"option\",{value:\"weekly\",children:\"Weekly\"}),/*#__PURE__*/_jsx(\"option\",{value:\"monthly\",children:\"Monthly\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Max Results\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"1\",max:\"1000\",value:formData.max_results_per_run,onChange:e=>handleInputChange('max_results_per_run',parseInt(e.target.value)),className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Location\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.location,onChange:e=>handleInputChange('location',e.target.value),placeholder:\"e.g., New York, CA, USA\",className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Group\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.group,onChange:e=>handleInputChange('group',e.target.value),placeholder:\"Optional group name for organization\",className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Additional Search Query\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:formData.search_query,onChange:e=>handleInputChange('search_query',e.target.value),placeholder:\"Additional terms to include in search\",className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:formData.is_active,onChange:e=>handleInputChange('is_active',e.target.checked),className:\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowCreateModal(false);setShowEditModal(false);setEditingConfig(null);resetForm();},className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:createConfigMutation.isLoading||updateConfigMutation.isLoading,className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:createConfigMutation.isLoading||updateConfigMutation.isLoading?'Saving...':editingConfig?'Update':'Create'})]})]})]})})}),showGroupModal&&/*#__PURE__*/_jsx(GroupModal,{groupName:groupName,setGroupName:setGroupName,onClose:()=>setShowGroupModal(false),onSubmit:handleBulkGroupUpdate})]});};// Group Modal Component\nconst GroupModal=_ref3=>{let{groupName,setGroupName,onClose,onSubmit}=_ref3;return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\",children:/*#__PURE__*/_jsx(\"div\",{className:\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900 mb-4\",children:\"Group Selected Configurations\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Group Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:groupName,onChange:e=>setGroupName(e.target.value),placeholder:\"Enter group name...\",className:\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3 pt-4\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:onClose,className:\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onSubmit,disabled:!groupName.trim(),className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\",children:\"Group Configurations\"})]})]})]})})});};export default ScrapingConfigs;","map":{"version":3,"names":["React","useState","useQuery","useMutation","useQueryClient","toast","PlusIcon","PencilIcon","TrashIcon","PlayIcon","PauseIcon","CogIcon","TagIcon","axios","ScrapingProgress","jsxs","_jsxs","jsx","_jsx","ScrapingConfigs","_configsData$configs4","_configsData$configs5","_configsData$configs6","_industriesData$indus","showCreateModal","setShowCreateModal","showEditModal","setShowEditModal","editingConfig","setEditingConfig","selectedConfigs","setSelectedConfigs","showGroupModal","setShowGroupModal","groupName","setGroupName","filters","setFilters","group","currentScrapingJob","setCurrentScrapingJob","scrapingProgress","setScrapingProgress","formData","setFormData","name","description","industry_type","keywords","sources","frequency","max_results_per_run","location","search_query","is_active","fieldErrors","setFieldErrors","generalError","setGeneralError","queryClient","data","configsData","isLoading","error","response","get","industriesData","createConfigMutation","configData","post","onSuccess","invalidateQueries","success","resetForm","onError","_error$response","errorData","errors","forEach","err","field","message","updateConfigMutation","_ref","id","put","concat","_error$response2","toggleStatusMutation","_ref2","isActive","patch","_error$response3","_error$response3$data","deleteConfigMutation","delete","_error$response4","_error$response4$data","bulkDeleteConfigs","length","window","confirm","mutate","handleBulkGroupUpdate","trim","_configsData$configs","config","configs","find","c","_objectSpread","handleConfigSelection","configId","prev","includes","filter","handleSelectAll","_configsData$configs2","_configsData$configs3","map","runConfigMutation","variables","jobId","Date","now","stage","progress","total","percentage","_error$response5","_error$response5$data","handleInputChange","value","handleKeywordsChange","index","newKeywords","push","filteredKeywords","keyword","i","handleSourcesChange","handleSubmit","e","preventDefault","submitData","handleEdit","handleDelete","handleToggleStatus","handleRunNow","getFrequencyLabel","labels","hourly","daily","weekly","monthly","custom","getFieldErrorStyle","fieldName","className","children","onChange","target","reduce","groups","onClick","onComplete","type","checked","disabled","title","onSubmit","required","rows","industries","industry","placeholder","key","label","source","s","min","max","parseInt","GroupModal","onClose","_ref3"],"sources":["/Users/jordanzane/Documents/Project Lead Scheduler/client/src/components/Scraping/ScrapingConfigs.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { useQuery, useMutation, useQueryClient } from 'react-query';\nimport { toast } from 'react-hot-toast';\nimport {\n  PlusIcon,\n  PencilIcon,\n  TrashIcon,\n  PlayIcon,\n  PauseIcon,\n  CogIcon,\n  TagIcon\n} from '@heroicons/react/24/outline';\nimport axios from 'axios';\nimport ScrapingProgress from './ScrapingProgress';\n\nconst ScrapingConfigs = () => {\n  const [showCreateModal, setShowCreateModal] = useState(false);\n  const [showEditModal, setShowEditModal] = useState(false);\n  const [editingConfig, setEditingConfig] = useState(null);\n  const [selectedConfigs, setSelectedConfigs] = useState([]);\n  const [showGroupModal, setShowGroupModal] = useState(false);\n  const [groupName, setGroupName] = useState('');\n  const [filters, setFilters] = useState({ group: '' });\n  const [currentScrapingJob, setCurrentScrapingJob] = useState(null);\n  const [scrapingProgress, setScrapingProgress] = useState(null);\n  const [formData, setFormData] = useState({\n    name: '',\n    description: '',\n    industry_type: '',\n    keywords: [''],\n    sources: ['scrapy', 'google', 'bing', 'news'],\n    frequency: 'daily',\n    max_results_per_run: 50,\n    location: '',\n    search_query: '',\n    group: '',\n    is_active: true\n  });\n\n  const [fieldErrors, setFieldErrors] = useState({});\n  const [generalError, setGeneralError] = useState('');\n\n  const queryClient = useQueryClient();\n\n  // Fetch scraping configurations\n  const { data: configsData, isLoading, error } = useQuery(\n    ['scrapingConfigs'],\n    async () => {\n      const response = await axios.get('/api/scraping/configs');\n      return response.data;\n    }\n  );\n\n  // Fetch industries for dropdown\n  const { data: industriesData } = useQuery(\n    ['industries'],\n    async () => {\n      const response = await axios.get('/api/industries');\n      return response.data;\n    }\n  );\n\n  // Create configuration mutation\n  const createConfigMutation = useMutation(\n    async (configData) => {\n      const response = await axios.post('/api/scraping/configs', configData);\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['scrapingConfigs']);\n        toast.success('Configuration created successfully');\n        setShowCreateModal(false);\n        resetForm();\n        setFieldErrors({});\n        setGeneralError('');\n      },\n      onError: (error) => {\n        const errorData = error.response?.data;\n        if (errorData?.fieldErrors) {\n          // Handle field-specific errors\n          const errors = {};\n          errorData.fieldErrors.forEach(err => {\n            errors[err.field] = err.message;\n          });\n          setFieldErrors(errors);\n          setGeneralError(errorData.message || 'Please fix the highlighted fields below');\n        } else {\n          // Handle general errors\n          setGeneralError(errorData?.error || 'Failed to create configuration');\n          setFieldErrors({});\n        }\n        toast.error(errorData?.error || 'Failed to create configuration');\n      }\n    }\n  );\n\n  // Update configuration mutation\n  const updateConfigMutation = useMutation(\n    async ({ id, data }) => {\n      const response = await axios.put(`/api/scraping/configs/${id}`, data);\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['scrapingConfigs']);\n        toast.success('Configuration updated successfully');\n        setShowEditModal(false);\n        setEditingConfig(null);\n        resetForm();\n        setFieldErrors({});\n        setGeneralError('');\n      },\n      onError: (error) => {\n        const errorData = error.response?.data;\n        if (errorData?.fieldErrors) {\n          // Handle field-specific errors\n          const errors = {};\n          errorData.fieldErrors.forEach(err => {\n            errors[err.field] = err.message;\n          });\n          setFieldErrors(errors);\n          setGeneralError(errorData.message || 'Please fix the highlighted fields below');\n        } else {\n          // Handle general errors\n          setGeneralError(errorData?.error || 'Failed to update configuration');\n          setFieldErrors({});\n        }\n        toast.error(errorData?.error || 'Failed to update configuration');\n      }\n    }\n  );\n\n  // Toggle configuration status mutation\n  const toggleStatusMutation = useMutation(\n    async ({ id, isActive }) => {\n      const response = await axios.patch(`/api/scraping/configs/${id}/toggle`, { is_active: isActive });\n      return response.data;\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['scrapingConfigs']);\n        toast.success('Configuration status updated');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to update status');\n      }\n    }\n  );\n\n  // Delete configuration mutation\n  const deleteConfigMutation = useMutation(\n    async (id) => {\n      await axios.delete(`/api/scraping/configs/${id}`);\n    },\n    {\n      onSuccess: () => {\n        queryClient.invalidateQueries(['scrapingConfigs']);\n        toast.success('Configuration deleted successfully');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to delete configuration');\n      }\n    }\n  );\n\n  // Bulk delete configurations\n  const bulkDeleteConfigs = () => {\n    if (selectedConfigs.length === 0) return;\n    \n    if (window.confirm(`Are you sure you want to delete ${selectedConfigs.length} configuration(s)?`)) {\n      selectedConfigs.forEach(id => deleteConfigMutation.mutate(id));\n      setSelectedConfigs([]);\n    }\n  };\n\n  // Bulk group update\n  const handleBulkGroupUpdate = () => {\n    if (selectedConfigs.length === 0 || !groupName.trim()) return;\n    \n    // Update each selected configuration with the new group\n    selectedConfigs.forEach(id => {\n      const config = configsData?.configs?.find(c => c.id === id);\n      if (config) {\n        updateConfigMutation.mutate({\n          id,\n          data: { ...config, group: groupName.trim() }\n        });\n      }\n    });\n    \n    setGroupName('');\n    setShowGroupModal(false);\n    setSelectedConfigs([]);\n  };\n\n  // Handle configuration selection\n  const handleConfigSelection = (configId) => {\n    setSelectedConfigs(prev => \n      prev.includes(configId)\n        ? prev.filter(id => id !== configId)\n        : [...prev, configId]\n    );\n  };\n\n  // Handle select all\n  const handleSelectAll = () => {\n    if (selectedConfigs.length === configsData?.configs?.length) {\n      setSelectedConfigs([]);\n    } else {\n      setSelectedConfigs(configsData?.configs?.map(config => config.id) || []);\n    }\n  };\n\n  // Run configuration mutation\n  const runConfigMutation = useMutation(\n    async (id) => {\n      const response = await axios.post(`/api/scraping/configs/${id}/run`);\n      return response.data;\n    },\n    {\n      onSuccess: (data, variables) => {\n        // Start progress tracking for enhanced scraping\n        const jobId = `config-${variables}-${Date.now()}`;\n        setCurrentScrapingJob({ id: variables, jobId });\n        setScrapingProgress({ stage: 'initializing', progress: 0, total: 1, percentage: 0, message: 'Starting enhanced scraping...' });\n        toast.success('Enhanced scraping job started - searching high-quality sources');\n      },\n      onError: (error) => {\n        toast.error(error.response?.data?.error || 'Failed to start scraping job');\n        setCurrentScrapingJob(null);\n        setScrapingProgress(null);\n      }\n    }\n  );\n\n  const resetForm = () => {\n    setFormData({\n      name: '',\n      description: '',\n      industry_type: '',\n      keywords: [''],\n      sources: ['scrapy', 'google', 'bing', 'news'],\n      frequency: 'daily',\n      max_results_per_run: 50,\n      location: '',\n      search_query: '',\n      is_active: true\n    });\n    setFieldErrors({});\n    setGeneralError('');\n  };\n\n  const handleInputChange = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n    // Clear field error when user starts typing\n    if (fieldErrors[field]) {\n      setFieldErrors(prev => ({ ...prev, [field]: '' }));\n    }\n  };\n\n  const handleKeywordsChange = (index, value) => {\n    const newKeywords = [...formData.keywords];\n    newKeywords[index] = value;\n    \n    // Add new empty keyword field if this is the last one and it's not empty\n    if (index === newKeywords.length - 1 && value && !newKeywords.includes('')) {\n      newKeywords.push('');\n    }\n    \n    // Remove empty keywords except the last one\n    const filteredKeywords = newKeywords.filter((keyword, i) => \n      keyword || i === newKeywords.length - 1\n    );\n    \n    setFormData(prev => ({ ...prev, keywords: filteredKeywords }));\n    \n    // Clear keywords error when user starts typing\n    if (fieldErrors.keywords) {\n      setFieldErrors(prev => ({ ...prev, keywords: '' }));\n    }\n  };\n\n  const handleSourcesChange = (sources) => {\n    setFormData(prev => ({ ...prev, sources }));\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    // Clear previous errors\n    setFieldErrors({});\n    setGeneralError('');\n    \n    // Filter out empty keywords\n    const filteredKeywords = formData.keywords.filter(keyword => keyword.trim());\n    \n    if (filteredKeywords.length === 0) {\n      setFieldErrors(prev => ({ ...prev, keywords: 'At least one keyword is required' }));\n      return;\n    }\n\n    const submitData = {\n      ...formData,\n      keywords: filteredKeywords\n    };\n\n    if (editingConfig) {\n      updateConfigMutation.mutate({ id: editingConfig.id, data: submitData });\n    } else {\n      createConfigMutation.mutate(submitData);\n    }\n  };\n\n  const handleEdit = (config) => {\n    setEditingConfig(config);\n    setFormData({\n      name: config.name,\n      description: config.description || '',\n      industry_type: config.industry_type || '',\n      keywords: config.keywords.length > 0 ? [...config.keywords, ''] : [''],\n      sources: config.sources.length > 0 ? config.sources : ['scrapy', 'google', 'bing', 'news'],\n      frequency: config.frequency || 'daily',\n      max_results_per_run: config.max_results_per_run || 50,\n      location: config.location || '',\n      search_query: config.search_query || '',\n      is_active: config.is_active\n    });\n    setFieldErrors({});\n    setGeneralError('');\n    setShowEditModal(true);\n  };\n\n  const handleDelete = (config) => {\n    if (window.confirm(`Are you sure you want to delete \"${config.name}\"?`)) {\n      deleteConfigMutation.mutate(config.id);\n    }\n  };\n\n  const handleToggleStatus = (config) => {\n    toggleStatusMutation.mutate({\n      id: config.id,\n      isActive: !config.is_active\n    });\n  };\n\n  const handleRunNow = (config) => {\n    if (window.confirm(`Run scraping job for \"${config.name}\" now?`)) {\n      runConfigMutation.mutate(config.id);\n    }\n  };\n\n  const getFrequencyLabel = (frequency) => {\n    const labels = {\n      hourly: 'Hourly',\n      daily: 'Daily',\n      weekly: 'Weekly',\n      monthly: 'Monthly',\n      custom: 'Custom'\n    };\n    return labels[frequency] || frequency;\n  };\n\n  // Helper function to get field error styling\n  const getFieldErrorStyle = (fieldName) => {\n    return fieldErrors[fieldName] \n      ? 'border-red-300 focus:border-red-500 focus:ring-red-500' \n      : 'border-gray-300 focus:border-indigo-500 focus:ring-indigo-500';\n  };\n\n  if (error) {\n    return (\n      <div className=\"p-6\">\n        <div className=\"bg-red-50 border border-red-200 rounded-md p-4\">\n          <p className=\"text-red-800\">Error loading configurations: {error.message}</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"p-6\">\n      {/* Header */}\n      <div className=\"flex justify-between items-center mb-6\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">Scraping Configurations</h1>\n          <p className=\"text-gray-600\">Manage your automated lead scraping jobs</p>\n          <div className=\"mt-2 p-2 bg-green-50 border border-green-200 rounded-md\">\n            <p className=\"text-sm text-green-700\">\n              🚀 <strong>Enhanced Scraping Service Active:</strong> All scraping jobs now use our advanced technology \n              for high-quality lead generation with AI-powered data extraction.\n            </p>\n          </div>\n        </div>\n        <div className=\"flex items-center space-x-3\">\n          <select\n            value={filters?.group || ''}\n            onChange={(e) => setFilters(prev => ({ ...prev, group: e.target.value }))}\n            className=\"block px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n          >\n            <option value=\"\">All Groups</option>\n            {configsData?.configs?.reduce((groups, config) => {\n              if (config.group && !groups.includes(config.group)) {\n                groups.push(config.group);\n              }\n              return groups;\n            }, []).map(group => (\n              <option key={group} value={group}>{group}</option>\n            ))}\n          </select>\n          <button\n            onClick={() => setShowCreateModal(true)}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n          >\n            <PlusIcon className=\"h-4 w-4 mr-2\" />\n            New Configuration\n          </button>\n        </div>\n      </div>\n\n      {/* Bulk Actions */}\n      {selectedConfigs.length > 0 && (\n        <div className=\"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-4\">\n              <span className=\"text-sm font-medium text-blue-800\">\n                {selectedConfigs.length} configuration(s) selected\n              </span>\n              \n              <button\n                onClick={bulkDeleteConfigs}\n                className=\"inline-flex items-center px-3 py-2 border border-red-300 rounded-md text-sm font-medium text-red-700 bg-white hover:bg-red-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500\"\n              >\n                <TrashIcon className=\"h-4 w-4 mr-1\" />\n                Delete All\n              </button>\n              \n              <button\n                onClick={() => setShowGroupModal(true)}\n                className=\"inline-flex items-center px-3 py-2 border border-blue-300 rounded-md text-sm font-medium text-blue-700 bg-white hover:bg-blue-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n              >\n                <TagIcon className=\"h-4 w-4 mr-1\" />\n                Group\n              </button>\n            </div>\n\n            <button\n              onClick={() => setSelectedConfigs([])}\n              className=\"text-blue-600 hover:text-blue-800 text-sm font-medium\"\n            >\n              Clear Selection\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Enhanced Scraping Progress */}\n      {currentScrapingJob && scrapingProgress && (\n        <div className=\"mb-6\">\n          <ScrapingProgress \n            jobId={currentScrapingJob.jobId}\n            onComplete={() => {\n              setCurrentScrapingJob(null);\n              setScrapingProgress(null);\n              queryClient.invalidateQueries(['scrapingConfigs']);\n              toast.success('Enhanced scraping completed! High-quality leads have been found and saved.');\n            }}\n            onError={() => {\n              setCurrentScrapingJob(null);\n              setScrapingProgress(null);\n              toast.error('Scraping job failed. Please try again.');\n            }}\n          />\n        </div>\n      )}\n\n      {/* Configurations List */}\n      {isLoading ? (\n        <div className=\"text-center py-8\">\n          <div className=\"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600 mx-auto\"></div>\n          <p className=\"mt-2 text-gray-600\">Loading configurations...</p>\n        </div>\n      ) : (\n        <div className=\"bg-white shadow overflow-hidden sm:rounded-md\">\n          {configsData?.configs?.filter(config => !filters.group || config.group === filters.group).length === 0 ? (\n            <div className=\"text-center py-12\">\n              <CogIcon className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">No configurations</h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Get started by creating your first scraping configuration.\n              </p>\n              <div className=\"mt-6\">\n                <button\n                  onClick={() => setShowCreateModal(true)}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                >\n                  <PlusIcon className=\"h-4 w-4 mr-2\" />\n                  New Configuration\n                </button>\n              </div>\n            </div>\n          ) : (\n            <ul className=\"divide-y divide-gray-200\">\n              {configsData?.configs?.filter(config => !filters.group || config.group === filters.group).map((config) => (\n                <li key={config.id} className=\"px-6 py-4\">\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex items-center space-x-3\">\n                        <input\n                          type=\"checkbox\"\n                          checked={selectedConfigs.includes(config.id)}\n                          onChange={() => handleConfigSelection(config.id)}\n                          className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                        />\n                        <div className=\"flex-shrink-0\">\n                          <CogIcon className=\"h-6 w-6 text-gray-400\" />\n                        </div>\n                        <div className=\"flex-1 min-w-0\">\n                          <p className=\"text-sm font-medium text-gray-900 truncate\">\n                            {config.name}\n                          </p>\n                          <p className=\"text-sm text-gray-500 truncate\">\n                            {config.description || 'No description'}\n                          </p>\n                          <div className=\"mt-1 flex items-center space-x-4 text-xs text-gray-500\">\n                            <span>Industry: {config.industry_type || 'Any'}</span>\n                            <span>Frequency: {getFrequencyLabel(config.frequency)}</span>\n                            <span>Keywords: {config.keywords.length}</span>\n                            <span>Max Results: {config.max_results_per_run}</span>\n                            {config.group && <span>Group: {config.group}</span>}\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center space-x-2\">\n                      <button\n                        onClick={() => handleRunNow(config)}\n                        disabled={!config.is_active}\n                        className=\"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\n                        title=\"Run now\"\n                      >\n                        <PlayIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleToggleStatus(config)}\n                        className={`inline-flex items-center px-2 py-1 border rounded text-xs font-medium ${\n                          config.is_active\n                            ? 'border-green-300 text-green-700 bg-green-50 hover:bg-green-100'\n                            : 'border-gray-300 text-gray-700 bg-gray-50 hover:bg-gray-100'\n                        }`}\n                        title={config.is_active ? 'Deactivate' : 'Activate'}\n                      >\n                        {config.is_active ? (\n                          <PauseIcon className=\"h-4 w-4\" />\n                        ) : (\n                          <PlayIcon className=\"h-4 w-4\" />\n                        )}\n                      </button>\n                      <button\n                        onClick={() => handleEdit(config)}\n                        className=\"inline-flex items-center px-2 py-1 border border-gray-300 rounded text-xs font-medium text-gray-700 bg-white hover:bg-gray-50\"\n                        title=\"Edit\"\n                      >\n                        <PencilIcon className=\"h-4 w-4\" />\n                      </button>\n                      <button\n                        onClick={() => handleDelete(config)}\n                        className=\"inline-flex items-center px-2 py-1 border border-red-300 rounded text-xs font-medium text-red-700 bg-white hover:bg-red-50\"\n                        title=\"Delete\"\n                      >\n                        <TrashIcon className=\"h-4 w-4\" />\n                      </button>\n                    </div>\n                  </div>\n                  {config.keywords.length > 0 && (\n                    <div className=\"mt-2 flex flex-wrap gap-1\">\n                      {config.keywords.map((keyword, index) => (\n                        <span\n                          key={index}\n                          className=\"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800\"\n                        >\n                          {keyword}\n                        </span>\n                      ))}\n                    </div>\n                  )}\n                </li>\n              ))}\n            </ul>\n          )}\n        </div>\n      )}\n\n      {/* Create/Edit Modal */}\n      {(showCreateModal || showEditModal) && (\n        <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n          <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n            <div className=\"mt-3\">\n              <h3 className=\"text-lg font-medium text-gray-900 mb-4\">\n                {editingConfig ? 'Edit Configuration' : 'New Configuration'}\n              </h3>\n              \n              {/* Enhanced Scraping Service Note */}\n              <div className=\"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-md\">\n                <p className=\"text-sm text-blue-800\">\n                  <strong>🚀 Enhanced Scraping Service:</strong> This configuration will use our advanced scraping technology \n                  to find high-quality business leads from multiple sources, with AI-powered data extraction and full content analysis.\n                </p>\n              </div>\n              \n              {/* General Error Display */}\n              {generalError && (\n                <div className=\"mb-4 p-3 bg-red-50 border border-red-200 rounded-md\">\n                  <p className=\"text-sm text-red-800\">{generalError}</p>\n                </div>\n              )}\n              \n              <form onSubmit={handleSubmit} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Name *</label>\n                  <input\n                    type=\"text\"\n                    required\n                    value={formData.name}\n                    onChange={(e) => handleInputChange('name', e.target.value)}\n                    className={`mt-1 block w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-offset-2 ${getFieldErrorStyle('name')}`}\n                  />\n                  {fieldErrors.name && (\n                    <p className=\"mt-1 text-sm text-red-600\">{fieldErrors.name}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Description</label>\n                  <textarea\n                    value={formData.description}\n                    onChange={(e) => handleInputChange('description', e.target.value)}\n                    rows={3}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Industry Type</label>\n                  <select\n                    value={formData.industry_type}\n                    onChange={(e) => handleInputChange('industry_type', e.target.value)}\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  >\n                    <option value=\"\">Any Industry</option>\n                    {industriesData?.industries?.map((industry) => (\n                      <option key={industry.id} value={industry.name}>\n                        {industry.name}\n                      </option>\n                    ))}\n                  </select>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Keywords *</label>\n                  <p className=\"text-xs text-gray-500 mb-2\">\n                    Enter multiple keywords. You can separate them with commas or use separate lines.\n                  </p>\n                  {formData.keywords.map((keyword, index) => (\n                    <input\n                      key={index}\n                      type=\"text\"\n                      value={keyword}\n                      onChange={(e) => handleKeywordsChange(index, e.target.value)}\n                      placeholder={index === 0 ? \"e.g., New Boutique Hotel Projects\" : \"Additional keyword\"}\n                      className={`mt-1 block w-full border rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-offset-2 ${getFieldErrorStyle('keywords')}`}\n                    />\n                  ))}\n                  {fieldErrors.keywords && (\n                    <p className=\"mt-1 text-sm text-red-600\">{fieldErrors.keywords}</p>\n                  )}\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Sources</label>\n                  <p className=\"mt-1 text-sm text-gray-500 mb-2\">\n                    Select high-quality sources for enhanced lead generation. We recommend using multiple sources for best results.\n                  </p>\n                  <div className=\"mt-2 space-y-2\">\n                    {[\n                      { key: 'scrapy', label: 'Scrapy API', description: 'High-quality business news scraping' },\n                      { key: 'google', label: 'Google News', description: 'Latest news and announcements' },\n                      { key: 'bing', label: 'Bing News', description: 'Alternative news source' },\n                      { key: 'news', label: 'Business News', description: 'Industry-specific news sites' },\n                      { key: 'rss', label: 'RSS Feeds', description: 'Direct feed monitoring (fallback)' }\n                    ].map((source) => (\n                      <label key={source.key} className=\"flex items-start\">\n                        <input\n                          type=\"checkbox\"\n                          checked={formData.sources.includes(source.key)}\n                          onChange={(e) => {\n                            if (e.target.checked) {\n                              handleSourcesChange([...formData.sources, source.key]);\n                            } else {\n                              handleSourcesChange(formData.sources.filter(s => s !== source.key));\n                            }\n                          }}\n                          className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded mt-0.5\"\n                        />\n                        <div className=\"ml-2\">\n                          <span className=\"text-sm font-medium text-gray-700\">{source.label}</span>\n                          <p className=\"text-xs text-gray-500\">{source.description}</p>\n                        </div>\n                      </label>\n                    ))}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Frequency</label>\n                    <select\n                      value={formData.frequency}\n                      onChange={(e) => handleInputChange('frequency', e.target.value)}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    >\n                      <option value=\"hourly\">Hourly</option>\n                      <option value=\"daily\">Daily</option>\n                      <option value=\"weekly\">Weekly</option>\n                      <option value=\"monthly\">Monthly</option>\n                    </select>\n                  </div>\n\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700\">Max Results</label>\n                    <input\n                      type=\"number\"\n                      min=\"1\"\n                      max=\"1000\"\n                      value={formData.max_results_per_run}\n                      onChange={(e) => handleInputChange('max_results_per_run', parseInt(e.target.value))}\n                      className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                    />\n                  </div>\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Location</label>\n                  <input\n                    type=\"text\"\n                    value={formData.location}\n                    onChange={(e) => handleInputChange('location', e.target.value)}\n                    placeholder=\"e.g., New York, CA, USA\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Group</label>\n                  <input\n                    type=\"text\"\n                    value={formData.group}\n                    onChange={(e) => handleInputChange('group', e.target.value)}\n                    placeholder=\"Optional group name for organization\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700\">Additional Search Query</label>\n                  <input\n                    type=\"text\"\n                    value={formData.search_query}\n                    onChange={(e) => handleInputChange('search_query', e.target.value)}\n                    placeholder=\"Additional terms to include in search\"\n                    className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n                  />\n                </div>\n\n                <div className=\"flex items-center\">\n                  <input\n                    type=\"checkbox\"\n                    checked={formData.is_active}\n                    onChange={(e) => handleInputChange('is_active', e.target.checked)}\n                    className=\"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded\"\n                  />\n                  <label className=\"ml-2 block text-sm text-gray-900\">Active</label>\n                </div>\n\n                <div className=\"flex justify-end space-x-3 pt-4\">\n                  <button\n                    type=\"button\"\n                    onClick={() => {\n                      setShowCreateModal(false);\n                      setShowEditModal(false);\n                      setEditingConfig(null);\n                      resetForm();\n                    }}\n                    className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n                  >\n                    Cancel\n                  </button>\n                  <button\n                    type=\"submit\"\n                    disabled={createConfigMutation.isLoading || updateConfigMutation.isLoading}\n                    className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n                  >\n                    {createConfigMutation.isLoading || updateConfigMutation.isLoading\n                      ? 'Saving...'\n                      : editingConfig\n                      ? 'Update'\n                      : 'Create'}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Group Modal */}\n      {showGroupModal && (\n        <GroupModal\n          groupName={groupName}\n          setGroupName={setGroupName}\n          onClose={() => setShowGroupModal(false)}\n          onSubmit={handleBulkGroupUpdate}\n        />\n      )}\n    </div>\n  );\n};\n\n// Group Modal Component\nconst GroupModal = ({ groupName, setGroupName, onClose, onSubmit }) => {\n  return (\n    <div className=\"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50\">\n      <div className=\"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white\">\n        <div className=\"mt-3\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">Group Selected Configurations</h3>\n          <div className=\"space-y-4\">\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">Group Name</label>\n              <input\n                type=\"text\"\n                value={groupName}\n                onChange={(e) => setGroupName(e.target.value)}\n                placeholder=\"Enter group name...\"\n                className=\"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500\"\n              />\n            </div>\n\n            <div className=\"flex justify-end space-x-3 pt-4\">\n              <button\n                type=\"button\"\n                onClick={onClose}\n                className=\"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500\"\n              >\n                Cancel\n              </button>\n              <button\n                onClick={onSubmit}\n                disabled={!groupName.trim()}\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50\"\n              >\n                Group Configurations\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ScrapingConfigs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}